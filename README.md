# Музыкальный сервис 


Этот проект представляет собой SQL-скрипт `creating_a_database_music_service.sql` для создания базы данных музыкального сервиса. База данных состоит из следующих таблиц:

## Таблицы

### 1. Genre
Таблица для хранения жанров музыки. Содержит следующие поля:
- `id` (SERIAL PRIMARY KEY) - уникальный идентификатор жанра
- `name` (VARCHAR(40) UNIQUE NOT NULL) - название жанра

### 2. Artist
Таблица для хранения информации об исполнителях. Содержит следующие поля:
- `id` (SERIAL PRIMARY KEY) - уникальный идентификатор исполнителя
- `name` (VARCHAR(40) UNIQUE NOT NULL) - имя исполнителя

### 3. Genres_Artists
Таблица для связи между жанрами и исполнителями (многие ко многим). Содержит следующие поля:
- `id` (SERIAL PRIMARY KEY) - уникальный идентификатор связи
- `gender_id` (INTEGER NOT NULL REFERENCES Genre(id)) - внешний ключ, ссылающийся на идентификатор жанра
- `artists_id` (INTEGER NOT NULL REFERENCES Artist(id)) - внешний ключ, ссылающийся на идентификатор исполнителя

### 4. Album
Таблица для хранения информации об альбомах. Содержит следующие поля:
- `id` (SERIAL PRIMARY KEY) - уникальный идентификатор альбома
- `name` (VARCHAR(40) UNIQUE NOT NULL) - название альбома
- `year` (INTEGER NOT NULL) - год выпуска альбома

### 5. Artist_Album
Таблица для связи между исполнителями и альбомами (многие ко многим). Содержит следующие поля:
- `id` (SERIAL PRIMARY KEY) - уникальный идентификатор связи
- `artist_id` (INTEGER NOT NULL REFERENCES Artist(id)) - внешний ключ, ссылающийся на идентификатор исполнителя
- `album_id` (INTEGER NOT NULL REFERENCES Album(id)) - внешний ключ, ссылающийся на идентификатор альбома

### 6. Track
Таблица для хранения информации о треках. Содержит следующие поля:
- `id` (SERIAL PRIMARY KEY) - уникальный идентификатор трека
- `name` (VARCHAR(40) NOT NULL) - название трека
- `duration` (INTEGER NOT NULL) - продолжительность трека в секундах
- `album_id` (INTEGER NOT NULL REFERENCES Album(id)) - внешний ключ, ссылающийся на идентификатор альбома

### 7. Collection
Таблица для хранения информации о сборниках. Содержит следующие поля:
- `id` (SERIAL PRIMARY KEY) - уникальный идентификатор сборника
- `name` (VARCHAR(40) UNIQUE NOT NULL) - название сборника
- `year` (INTEGER NOT NULL) - год выпуска сборника

### 8. Collection_Track
Таблица для связи между сборниками и треками (многие ко многим). Содержит следующие поля:
- `id` (SERIAL PRIMARY KEY) - уникальный идентификатор связи
- `collection_id` (INTEGER NOT NULL REFERENCES Collection(id)) - внешний ключ, ссылающийся на идентификатор сборника
- `track_id` (INTEGER NOT NULL REFERENCES Track(id)) - внешний ключ, ссылающийся на идентификатор трека

Этот SQL-скрипт создает все необходимые таблицы и устанавливает соответствующие связи между ними для корректной работы музыкального сервиса.

## Домашнее задание

Мы выполнили домашнее задание к лекции "Продвинутая выборка данных", состоящее из следующих заданий:

### Задание 1

Заполнили базу данных следующими данными:

- Не менее 4 исполнителей
- Не менее 3 жанров
- Не менее 3 альбомов
- Не менее 6 треков
- Не менее 4 сборников

Все поля каждой таблицы были заполнены, включая таблицы связей исполнителей с жанрами, исполнителей с альбомами и сборников с треками.

### Задание 2

Написали SELECT-запросы для получения следующей информации:

1. Название и продолжительность самого длительного трека.
2. Название треков, продолжительность которых не менее 3,5 минут.
3. Названия сборников, вышедших в период с 2018 по 2020 год включительно.
4. Исполнители, чьё имя состоит из одного слова.
5. Название треков, которые содержат слово "мой" или "my".

### Задание 3

Написали SELECT-запросы для получения следующей информации:

1. Количество исполнителей в каждом жанре.
2. Количество треков, вошедших в альбомы 2019–2020 годов.
3. Средняя продолжительность треков по каждому альбому.
4. Все исполнители, которые не выпустили альбомы в 2020 году.
5. Названия сборников, в которых присутствует конкретный исполнитель.

### Задание 4 (необязательное)

Написали SELECT-запросы для получения следующей информации:

1. Названия альбомов, в которых присутствуют исполнители более чем одного жанра.
2. Наименования треков, которые не входят в сборники.
3. Исполнитель или исполнители, написавшие самый короткий по продолжительности трек.
4. Названия альбомов, содержащих наименьшее количество треков.

Результатом работы являются три файла в формате `.sql`:

- [insert_requests.sql](./insert_requests.sql) с INSERT-запросами (задание 1)
- [select_requests.sql](./select_requests.sql) с SELECT-запросами (задания 2, 3, 4)
- [create_requests.sql](./create_requests.sql) с CREATE-запросами (из предыдущей домашней работы)

Эти файлы содержат весь код, необходимый для создания базы данных музыкального сервиса, заполнения ее данными и выполнения различных запросов для получения информации.